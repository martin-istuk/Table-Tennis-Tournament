<button
	mat-raised-button
	color="primary"
	class="addNew"
	[routerLink]="['/add-new-match']"
>
	<mat-icon>add</mat-icon>Add New Match
</button>

<div *ngIf="matchList$ | async as matchList; else errorGettingData">
	<table mat-table [dataSource]="matchList">
		<!-- Match-Id Column -->
		<ng-container matColumnDef="id">
			<th mat-header-cell *matHeaderCellDef>Match ID</th>
			<td mat-cell *matCellDef="let match">{{ match.id }}</td>
		</ng-container>

		<!-- Player-Home Column -->
		<ng-container matColumnDef="playerHome">
			<th mat-header-cell *matHeaderCellDef>Player Name</th>
			<td mat-cell *matCellDef="let match">{{ match.playerHome }}</td>
		</ng-container>

		<!-- Score Column -->
		<ng-container matColumnDef="score">
			<th mat-header-cell *matHeaderCellDef>Score</th>
			<td mat-cell *matCellDef="let match">
				<span
					*ngIf="
						match.score[0] === 3 || match.score[1] === 3;
						else matchNotFinished
					"
					>{{ match.score[0] + ":" + match.score[1] }}
				</span>
				<ng-template #matchNotFinished><span>---</span></ng-template>
			</td>
		</ng-container>

		<!-- Player-Away Column -->
		<ng-container matColumnDef="playerAway">
			<th mat-header-cell *matHeaderCellDef>Player Name</th>
			<td mat-cell *matCellDef="let match">{{ match.playerAway }}</td>
		</ng-container>

		<!-- Player-Away Column -->
		<ng-container matColumnDef="editScore">
			<th mat-header-cell *matHeaderCellDef>Action</th>
			<td mat-cell *matCellDef>
				<button mat-raised-button color="primary"><mat-icon>edit</mat-icon>Edit Score</button>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
	</table>
</div>

<ng-template #errorGettingData>
	<p class="error">Error getting data!</p>
</ng-template>